{% extends "rejs/base.html" %}

{% block title %}Lista Rejsów - Zobaczyć Morze{% endblock %}

{% block nav %}{% endblock %}

{% block content %}
<h1>Dostępne rejsy</h1>

{% if rejsy %}
<ul class="cruise-list" role="list">
    {% for rejs in rejsy %}
    <li class="cruise-card">
        <article aria-labelledby="cruise-{{ rejs.id }}">
            <h2 id="cruise-{{ rejs.id }}">{{ rejs.nazwa }}</h2>

            <dl class="cruise-details">
                <div class="detail-row">
                    <dt>Termin:</dt>
                    <dd>
                        <time datetime="{{ rejs.od|date:'Y-m-d' }}">{{ rejs.od|date:'j E Y' }}</time>
                        &ndash;
                        <time datetime="{{ rejs.do|date:'Y-m-d' }}">{{ rejs.do|date:'j E Y' }}</time>
                    </dd>
                </div>
                <div class="detail-row">
                    <dt>Trasa:</dt>
                    <dd>{{ rejs.start }} &rarr; {{ rejs.koniec }}</dd>
                </div>
                <div class="detail-row">
                    <dt>Zaliczka:</dt>
                    <dd>{{ rejs.zaliczka }} zł</dd>
                </div>
                <div class="detail-row">
                    <dt>Pełna cena:</dt>
                    <dd>{{ rejs.cena }} zł</dd>
                </div>
            </dl>

            {% if rejs.opis %}
            <div class="cruise-description">
                <p>{{ rejs.opis }}</p>
            </div>
            {% endif %}

            <a href="{% url 'zgloszenie_utworz' rejs.id %}"
               class="button button-primary"
               aria-label="Zapisz się na rejs {{ rejs.nazwa }}">
                Zapisz się na ten rejs
            </a>
        </article>
    </li>
    {% endfor %}
</ul>
{% else %}
<p class="no-results">Obecnie nie ma dostępnych rejsów. Sprawdź ponownie później.</p>
{% endif %}
{% endblock %}
